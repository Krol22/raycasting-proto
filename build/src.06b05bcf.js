parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"pkQ8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.map=void 0;var e=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,2,2,2,2,2,0,0,0,0,3,0,3,0,3,0,0,0,1],[1,0,0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,2,0,0,0,2,0,0,0,0,3,0,0,0,3,0,0,0,1],[1,0,0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,2,2,0,2,2,0,0,0,0,3,0,3,0,3,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,4,0,4,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,4,0,0,0,0,5,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,4,0,4,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,4,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]];exports.map=e;
},{}],"H99C":[function(require,module,exports) {
"use strict";var a=require("./map"),e=function(a,e,t,o,n){return o+(n-o)/(t-e)*(a-e)},t=document.querySelector("#game-canvas").getContext("2d");t.webkitImageSmoothingEnabled=!1,t.mozImageSmoothingEnabled=!1;var o,n,r,i,s=22,c=10,h=-1,l=0,f=0,m=0,v=.66,M=800,d=400,u=function(){for(var f=function(f){n=h+m*(o=2*f/M-1),r=l+v*o;var u=Math.floor(s),w=Math.floor(c),g=Math.sqrt(1+r*r/(n*n)),k=Math.sqrt(1+n*n/(r*r)),p=void 0,y=void 0,b=void 0,q=void 0,I=void 0,S=void 0;n<0?(y=-1,q=(s-u)*g):(y=1,q=(u+1-s)*g),r<0?(b=-1,I=(c-w)*k):(b=1,I=(w+1-c)*k);for(var E=[];q<I?(q+=g,u+=y,u=Math.floor(u),S=0):(I+=k,w+=b,w=Math.floor(w),S=1),!(a.map[u][w]>0&&(E.push({mapX:u,mapY:w,side:S,value:a.map[u][w]}),1===a.map[u][w])););E.reverse().forEach(function(o){var h=o.mapX,l=o.mapY,m=o.side,v=o.value;p=0===m?(h-s+(1-y)/2)/n:(l-c+(1-b)/2)/r;var M,u,w=Math.floor(Math.abs(d/p)),g=d/2+w/2,k=g-w;switch(3===v&&(k=(g=d/2+w/2)-w/v),2===v&&(k=(g=d/2+w/2)-w*v*1.2),a.map[h][l]){case 1:M="red",1===m&&(M="salmon");break;case 2:M="green",1===m&&(M="springgreen");break;case 3:M="blue",1===m&&(M="skyblue");break;case 4:M="white",1===m&&(M="whitesmoke")}t.fillStyle=M,t.fillRect(f,g,1,k-g),u=0===m?c+p*r:s+p*n,u-=Math.floor(u);var q=Math.floor(15*u);2===v?t.drawImage(i,q,0,1,15,f,k,1,1.2*w*v):3===v?t.drawImage(i,q,0,1,15,f,k,1,w/v):t.drawImage(i,q,0,1,15,f,k,1,w);var I=e(p,0,15,0,.5);t.fillStyle="rgba(0, 0, 0, ".concat(I,")"),t.fillRect(f,g,1,k-g)})},u=0;u<M;u++)f(u)},w=function a(){t.fillStyle="black",t.fillRect(0,0,800,400),u(),window.requestAnimationFrame(a)},g=.1;window.addEventListener("keydown",function(a){if("w"===a.key&&(c+=.2*l,s+=.2*h),"s"===a.key&&(c-=.2*l,s-=.2*h),"d"===a.key){var e=h;h=h*Math.cos(-g)-l*Math.sin(-g),l=e*Math.sin(-g)+l*Math.cos(-g);var t=m;m=m*Math.cos(-g)-v*Math.sin(-g),v=t*Math.sin(-g)+v*Math.cos(-g)}if("a"===a.key){var o=h;h=h*Math.cos(g)-l*Math.sin(g),l=o*Math.sin(g)+l*Math.cos(g);var n=m;m=m*Math.cos(g)-v*Math.sin(g),v=n*Math.sin(g)+v*Math.cos(g)}"q"===a.key&&(f+=10),"z"===a.key&&(f-=10)});var k=function(a){return new Promise(function(e){var t=new Image;t.src=a,t.onload=function(){e(t)}})};k("Wall.png").then(function(a){i=a,window.requestAnimationFrame(w)});
},{"./map":"pkQ8"}]},{},["H99C"], null)
//# sourceMappingURL=/src.06b05bcf.js.map